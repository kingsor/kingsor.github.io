var ytLazy=function(){"use strict";const t=(t,s)=>{const e=document.createElement(t);return s&&i(e,"string"==typeof s?{class:s}:s),e},i=(t,i)=>{for(var s in i)t.setAttribute(s,i[s])},s=t=>JSON.parse(t),e=(t,i=300)=>{let s;return function(...e){clearTimeout(s),s=setTimeout(()=>t.apply(this,e),i)}};return class{constructor(h,{background:n="rgba(0,0,0,0.9)",maxWidth:o=90,overflow:a=!1,local:c=!0,picture:r=!1,onResize:d=(()=>{}),createWatchIn:u=(()=>{})}){this.t=()=>{const i=document.querySelectorAll("."+this.i);for(let e=0;e<i.length;e++){const{id:h,openIn:n,title:o,picture:a}=s(i[e].getAttribute("data-yt"));if(i[e].appendChild(this.s(h,a)),i[e].appendChild(t("div","ytLazy__img--svg")),null!=o&&o){const s=t("div","ytLazy__title");s.textContent=o,i[e].insertAdjacentElement("beforeend",s),s.insertAdjacentElement("afterend",t("div","ytLazy__gradient-top"))}n&&this.h&&this.h({index:e,link:this.o+"/watch?v="+h,template:t=>{i[e].insertAdjacentHTML("beforeend",t)}})}this.u()},this.s=(i,s)=>{const e=[{media:"(min-width: 1440px)",srcset:this.l(i,"maxresdefault")},{media:"(min-width: 1024px)",srcset:this.l(i,"hqdefault")},{media:"(min-width: 480px)",srcset:this.l(i,"mqdefault")}],h=t("picture");e.map(i=>{h.appendChild(t("source",i))});const n=new Image;return n.className="ytLazy__image",n.loading="lazy",n.width=1050,n.height=787,n.src=this.l(i,"sddefault"),h.appendChild(n),this.m||s?h:n},this.l=(t,i)=>`//i.ytimg.com/vi/${t}/${i}.jpg`,this.p=e=>{if(e.closest(".ytLazy__watch-in-link"))return;const h=e.closest(".ytLazy__item");if(null===h||h.className!==this.i)return;const{id:n,local:o,maxWidth:a}=s(h.getAttribute("data-yt"));if(null!=o?o:this.g){const s=t("iframe",this.L(n,this.o));return i(s,{width:"100%",height:"100%"}),h.textContent="",void h.appendChild(s)}this.v({id:n,maxWidth:a})},this._=()=>{const t=document.querySelector(".ytLazy-is-open");t&&(t.textContent="",t.classList.remove("ytLazy-is-open"),this.k&&document.body.classList.remove("ytLight-active"))},this.$=t=>{t.stopPropagation();const{target:i}=t;this._(),this.p(i)},this.W=t=>{"Escape"===t.key&&(this.p(t.target),this._())},this.u=()=>{window.addEventListener("click",this.$),window.addEventListener("keydown",this.W),window.addEventListener("DOMContentLoaded",()=>this.g=this.I()),window.addEventListener("resize",e(()=>this.g=this.I(),70))},this.L=(t,i)=>({frameborder:"0",allowfullscreen:"true",allow:"accelerometer;autoplay;encrypted-media;gyroscope;picture-in-picture;",src:`${i}/embed/${t}?autoplay=1`}),this.v=({id:s,maxWidth:e})=>{this.k&&document.body.classList.add("ytLight-active");const h=t("button","ytLight-close");i(h,{type:"button",title:"close movie"});const n=t("div","ytLight-wrap"),o=t("div","ytLight-container");(this.q||e)&&i(o,{style:`max-width: ${e||this.q}%`});const a=t("div","ytLight-iframe");a.appendChild(t("iframe",this.L(s,this.o))),o.appendChild(a),n.appendChild(o),a.insertAdjacentElement("afterend",h),this.O.appendChild(n),this.O.classList.add("ytLazy-is-open"),this.O.setAttribute("style",`background:${this.T};`)},this.i=h,this.T=n,this.g=c,this.k=a,this.m=r,this.q=o,this.h=u,this.I=d,this.o="https://www.youtube.com",this.O=t("div","ytLight"),document.body.appendChild(this.O),this.t()}}}();
//# sourceMappingURL=youtubeLazy.min.js.map